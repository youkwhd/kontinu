<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="../../dist/umd/kontinu.js"></script>
    <title>Kontinu - Endless Horse Example (Vanilla)</title>
    <style>
        html, body {
            color: #dcdbd8;
            background-color: #17191a;
        }

        a {
            color: #308af2;
        }

        pre {
            margin: 0;
        }

        main {
            width: 380px;
            padding-top: 82.5px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <main>
        <p>The art is stolen from <a href="http://endless.horse">endless.horse</a></p>
        <p>You can try to: </p>
        <ul>
            <li>Resize the screen</li>
            <li>Scroll for infinite horse</li>
        </ul>
        <pre id="parent">   ,
_,,)\.~,,._
(()`  ``)\))),,_
 |     \ ''((\)))),,_          ____
 |6`   |   ''((\())) "-.____.-"    `-.-,
 |    .'\    ''))))'                  \)))
 |   |   `.     ''                     ((((
 \, _)     \/                          |))))
  `'        |                          (((((
            \                  |       ))))))
             `|    |           ,\     /((((((
              |   / `-.______.<  \   |  )))))
              |   |  /         `. \  \  ((((
              |  / \ |           `.\  | (((
              \  | | |             )| |  ))
               | | | |             || |  '</pre>
    </main>
    <script>
        let lastElement = document.querySelector("#parent");

        const onIntersection = () => {
            let elements = [];

            for (let i = 0; i < 100; i++) {
                let el = document.createElement("pre");
                el.textContent = "	       | | | |             || |  ";
                elements.push(el);
            }

            // prepending to the older element, so reverse the array
            elements.reverse();
            elements.forEach((el) => lastElement.insertAdjacentElement("afterend", el));

            lastElement = elements[0];
            kontinu.observe(lastElement, onIntersection);
        };

        kontinu.observe(lastElement, onIntersection);
    </script>
</body>
</html>
